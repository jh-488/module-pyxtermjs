var e,t;e=self,t=()=>{var e,t,i;return e={6:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.LinkComputer=t.WebLinkProvider=void 0,t.WebLinkProvider=class{constructor(e,t,i,r={}){this._terminal=e,this._regex=t,this._handler=i,this._options=r}provideLinks(e,t){let r=i.computeLink(e,this._regex,this._terminal,this._handler);t(this._addCallbacks(r))}_addCallbacks(e){return e.map(e=>(e.leave=this._options.leave,e.hover=(t,i)=>{if(this._options.hover){let{range:r}=e;this._options.hover(t,i,r)}},e))}};class i{static computeLink(e,t,r,n){let o;let s=RegExp(t.source,(t.flags||"")+"g"),[l,a]=i._getWindowedLineStrings(e-1,r),d=l.join(""),p=[];for(;o=s.exec(d);){let e=o[0];try{let t=new URL(e),i=decodeURI(t.toString());if(e!==i&&e+"/"!==i)continue}catch(e){continue}let[t,s]=i._mapStrIdx(r,a,0,o.index),[l,d]=i._mapStrIdx(r,t,s,e.length);if(-1===t||-1===s||-1===l||-1===d)continue;let h={start:{x:s+1,y:t+1},end:{x:d,y:l+1}};p.push({range:h,text:e,activate:n})}return p}static _getWindowedLineStrings(e,t){let i,r=e,n=e,o=0,s="",l=[];if(i=t.buffer.active.getLine(e)){let e=i.translateToString(!0);if(i.isWrapped&&" "!==e[0]){for(o=0;(i=t.buffer.active.getLine(--r))&&o<2048&&(o+=(s=i.translateToString(!0)).length,l.push(s),i.isWrapped&&-1===s.indexOf(" ")););l.reverse()}for(l.push(e),o=0;(i=t.buffer.active.getLine(++n))&&i.isWrapped&&o<2048&&(o+=(s=i.translateToString(!0)).length,l.push(s),-1===s.indexOf(" ")););}return[l,r]}static _mapStrIdx(e,t,i,r){let n=e.buffer.active,o=n.getNullCell(),s=i;for(;r;){let e=n.getLine(t);if(!e)return[-1,-1];for(let i=s;i<e.length;++i){e.getCell(i,o);let s=o.getChars();if(o.getWidth()&&(r-=s.length||1,i===e.length-1&&""===s)){let e=n.getLine(t+1);e&&e.isWrapped&&(e.getCell(0,o),2===o.getWidth()&&(r+=1))}if(r<0)return[t,i]}t++,s=0}return[t,s]}}t.LinkComputer=i}},t={},i={},(()=>{Object.defineProperty(i,"__esModule",{value:!0}),i.WebLinksAddon=void 0;let r=function i(r){var n=t[r];if(void 0!==n)return n.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,i),o.exports}(6),n=/https?:[/]{2}[^\s"'!*(){}|\\\^<>`]*[^\s"':,.!?{}|\\\^~\[\]`()<>]/;function o(e,t){let i=window.open();if(i){try{i.opener=null}catch(e){}i.location.href=t}else console.warn("Opening link blocked as opener could not be cleared")}i.WebLinksAddon=class{constructor(e=o,t={}){this._handler=e,this._options=t}activate(e){this._terminal=e;let t=this._options,i=t.urlRegex||n;this._linkProvider=this._terminal.registerLinkProvider(new r.WebLinkProvider(this._terminal,i,this._handler,t))}dispose(){var e;null===(e=this._linkProvider)||void 0===e||e.dispose()}}})(),i},"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.WebLinksAddon=t():e.WebLinksAddon=t();
//# sourceMappingURL=index.cc94d01e.js.map
